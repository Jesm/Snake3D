var Jesm=function(e,t){for(var a=["moz","webkit"],i=2;i--&&!e.requestAnimationFrame;)e.requestAnimationFrame=e[a[i]+"RequestAnimationFrame"],e.cancelAnimationFrame=e[a[i]+"CancelAnimationFrame"]||e[a[i]+"CancelRequestAnimationFrame"]
var s={addEvento:function(a,i,n,r,o){i=i.split(","),r=r||a
for(var l=!!a.addEventListener,c=l?"":"on",h=l?"addEventListener":"attachEvent",u=function(e){l||s.Core.eventos.prepare(e),n.call(r,e)},f=0,p=i.length;p>f;f++)"wheel"!=i[f]||"onwheel"in e||(i[f]="onmousewheel"in t?"mousewheel":"MozMousePixelScroll"),a[h](c+i[f],u)
return o?this.Core.eventos.add(a,i,u):void 0},delEvento:function(e){var t=this.Core.eventos.tirar(e)
if(t)for(var a=!!t[0].removeEventListener,i=a?"":"on",s=a?"removeEventListener":"detachEvent",n=t[1].length;n--;t[0][s](i+t[1][n],t[2]));},debug:!1,oldIE:function(){return null==this.Cross.getStyle(t.body,"opacity")},loadImgs:function(e,t,a){a=1e3*(a||5)
var i=0
!function n(){if(i==e.length)return void(t&&t())
var r=e[i++],o=setTimeout(n,a)
s.loadImg(s.Cross.data(r,"src"),function(){clearTimeout(o),n()})}()},loadImg:function(e,t,a){var i=new Image
return i.onload=function(){a&&(a.src=this.src),t&&t.call(this)},i.src=e,i},cada:function(e,t){for(var a,i=0,s=e.length;s>i&&(this.isElemento(a=e[i])&&pega(a),0!=t(a,i,e));i++);},css:function(e,t){t=t.split(";")
for(var a=t.length;a--;){var i=t[a].split(":"),s=i.shift(),n=i.join(":")
""!=s&&("opacity"==s&&this.oldIE()?(s="filter",n="alpha(opacity="+100*parseFloat(n)+")"):"float"==s&&(s="cssFloat"),e.style[this.cssPropToJs(s)]=n)}return e},dividirAspa:function(e,t,a,i){t=t||",",a=a||"'"
var s=e.split(RegExp(t+"(?=(?:[^"+a+"]*"+a+"[^"+a+"]*"+a+")*[^"+a+"]*$)","gi"))
if(i)for(var n=RegExp("^ *"+a+"|"+a+" *$","g"),r=s.length;r--;s[r]=s[r].replace(n,""));return s},el:function(e,a,i,s){var n=t.createElement(e)
if(a)for(var r=a.split(";"),o=r.length;o--;){var l=r[o].split("="),c=l.shift()
"class"==c&&(c+="Name"),n[c]=l.join("=")}return i&&i.appendChild(n),null!=s&&(this.isElemento(s)?n.appendChild(s):n.innerHTML=s),this.pega(n)},getAuto:function(e,t){var a=[e.style[t],e.style.display]
this.css(e,t+":auto;display:block")
var i=this.Cross.client(e)
switch(t){case"width":i=i[0]
break
case"height":i=i[1]}return this.css(e,t+":"+a[0]+";display:"+a[1]),i},cssPropToJs:function(e){var t=/^-(.+)-(\w)/
return t.test(e)&&(e=e.replace(t,function(e,t,a){return("moz"!=t?t:"Moz")+a.toUpperCase()})),e.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()})},escapeRegExp:function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},isElemento:function(e){return!(!e||!e.nodeType||1!=e.nodeType)},isFunction:function(e){return!(!e||"function"!=typeof e)},isTouchEvent:function(e){return-1!=e.type.indexOf("touch")}}
return s.pega=function(e,a){function i(e){var t
if((t=/^#(.+)$/i)&&-1!=e.search(t))return["id",e.match(t)[1]]
if((t=/^\.(.+)$/i)&&-1!=e.search(t))return["class",e.match(t)[1]]
if((t=/^\[(.+)=(.+)\]$/i)&&-1!=e.search(t)){var a=e.match(t)
return["attr",a[1],a[2]]}return["tag",e]}var n=this!=s?this:t,r={l:[],a:function(e){for(var t=0,a=e.length;a>t;this.l.push(e[t++]));}}
if(s.isElemento(e))r=e
else{for(var o=e.split(","),l=0,c=o.length;c>l;l++){var h=i(o[l])
switch(h[0]){case"id":r=t.getElementById(h[1])
break
case"class":if(n.getElementsByClassName)r.a(n.getElementsByClassName(h[1]))
else{var u=RegExp("\\b"+h[1]+"\\b")
r.a(s.Cross.filter(n.getElementsByTagName("*"),function(e){return-1!=e.className.indexOf(h[1])&&-1!=e.className.search(u)}))}break
case"attr":r.a(n==t&&"name"==h[1]?t.getElementsByName(h[2]):s.Cross.filter(n.getElementsByTagName("*"),function(e){return e[h[1]]==h[2]}))
default:r.a(n.getElementsByTagName(h[1]))}}null!=a&&(r=r.l.length?r.l["last"!=a?a:r.l.length-1]:null)}return s.isElemento(r)&&(r.pega=s.pega,r.filhas=function(e){var t=i(e)
return s.Cross.filter(this.childNodes,function(e){switch(t[0]){case"class":return null!=e.className&&-1!=e.className.indexOf(t[1])&&-1!=e.className.search(RegExp("\\b"+t[1]+"\\b"))
case"attr":return e[t[1]]==t[2]
default:return e.tagName&&e.tagName.toLowerCase()==t[1].toLowerCase()}})},r.del=function(){this.parentNode.removeChild(this)},r.classList||(r.classList={e:r,contains:function(e){return RegExp("\\b"+e+"\\b").test(this.e.className)},add:function(e){-1==s.Cross.indexOf(this.e.className.split(" "),e)&&(this.e.className+=" "+e)},remove:function(e){this.e.className=this.e.className.replace(RegExp("\\b"+e+"\\b"),"")}})),!r&&s.debug&&console.error("A seguinte string retornou null: "+e),r&&r.l?r.l:r},e.pega||(e.pega=function(e,t){return s.pega(e,t)}),s.Core={ajax:{ativo:!1,limit:!1,fila:[],novo:function(e){var t=new XMLHttpRequest,a=e.metodo.toUpperCase(),i=e.url,s=[]
for(var n in e.data){var r=e.data[n]
r instanceof Array||(r=[null!=r?r+"":""])
for(var o=0;o<r.length;o++){var l=r[o]
e.noEscape||(l=encodeURIComponent(l)),s.push(n+"="+l)}}return s=s.join("&"),"GET"==a&&(i+="?"+s,s=null),t.open(a,i,!0),"POST"==a&&t.setRequestHeader("Content-type","application/x-www-form-urlencoded; charset=UTF-8"),this.addFila([e,t,s]),t},addFila:function(e){var t=this
return this.fila.push(e),this.limit&&this.ativo||(this.ativo=!0,function a(){t.a&&t.a()
var e=t.fila.shift()
e[1].onreadystatechange=function(){4==this.readyState&&(t.d&&t.d(),e[0].depois&&e[0].depois(),t.fila.length?a():t.ativo=!1)},this.a&&this.a(),e[1].send(e[2])}()),this}},animator:{ativo:!1,lista:[],addTarefa:function(t,a){function i(){var e=s.Core.animator
n&&(e.meteint=requestAnimationFrame(i))
for(var t=e.lista.length;t--;){var a=e.lista[t]
a[0].call(a[1])&&e.delTarefaByIndice(t)}}if(this.lista.push([t,a]),!this.ativo){this.ativo=!0
var n=!!e.requestAnimationFrame
this.meteint=n?requestAnimationFrame(i):setInterval(i,this.intervalo||13)}return this},delTarefaByObj:function(e){for(var t=this.lista.length;t--;)e==this.lista[t][1]&&this.delTarefaByIndice(t)},delTarefaByIndice:function(e){this.lista.splice(e,1),this.lista.length||this.stop()},stop:function(){this.ativo=!1,(e.requestAnimationFrame?cancelAnimationFrame:clearInterval)(this.meteint)}},eventos:{l:{n:0},add:function(e,t,a){var i=this.l.n++
return this.l[i]=[e,t,a],i},tirar:function(e){if(null!=e&&this.l[e]){var t=this.l[e]
return delete this.l[e],t}},prepare:function(e){return e.target=e.srcElement,e.which=e.keyCode,e.stopPropagation=function(){this.cancelBubble=!0},e.preventDefault=function(){this.returnValue=!1},e}}},s.Cross={indexOf:function(e,t,a){if(e.indexOf)return e.indexOf(t,a)
for(var i=a||0,s=e.length;s>i;i++)if(e[i]==t)return i
return-1},filter:function(e,t){if(e.filter)return e.filter(t)
for(var a,i=[],s=0,n=e.length;n>s;s++)t(a=e[s])&&i.push(a)
return i},getStyle:function(e,a,i){var n
return t.defaultView&&t.defaultView.getComputedStyle?n=t.defaultView.getComputedStyle(e,"").getPropertyValue(a):e.currentStyle&&(n=e.currentStyle[s.cssPropToJs(a)]),i&&(n=parseFloat(n)),n},pageOffset:function(){var a=t.documentElement
return[e.pageXOffset||a.scrollLeft,e.pageYOffset||a.scrollTop]},inner:function(){for(var a=[],i=2,s=["Width","Height"];i--;a[i]=e["inner"+s[i]]||Math.min(t.body["client"+s[i]],t.documentElement["client"+s[i]]));return a},scroll:function(e){return[e.scrollLeft,e.scrollTop]},offset:function(e,t,a){var i=e.getBoundingClientRect(),s=a?[0,0]:this.pageOffset()
if(i=[i.left,i.top],t)for(var n=2,r=this.offset(t),o=this.scroll(t);n--;s[n]+=o[n]-r[n]);for(var n=2;n--;i[n]+=s[n]);return i},offsetSize:function(e){return e=e||t.body,[e.offsetWidth,e.offsetHeight]},client:function(e){return[e.clientWidth,e.clientHeight]},cssSize:function(e){for(var t=[],a=["width","height"],i=["left","right","top","bottom"],s=2;s--;){var n=this.getStyle(e,a[s])
"auto"==n&&(n=this.client(e)[s]-(this.getStyle(e,"padding-"+i[2*s],1)+this.getStyle(e,"padding-"+i[2*s+1],1))),t[s]=parseFloat(n)}return t},textContent:function(e){return e.textContent||e.innerText||""},data:function(e,t,a){var i=!!e.dataset
return null!=a&&(i?e.dataset[t]=a:e.setAttribute("data-"+t,a)),i?e.dataset[t]:e.getAttribute("data-"+t)},placeholder:function(){for(var e=s.pega("input,textarea"),t=e.length;t--;){var a=e[t],i=a.getAttribute("placeholder")
!i||a.value||a.placeholder||(a.value=i)}},getMouse:function(e){for(var t=[],a=2,i=["X","Y"];a--;t[a]=e["client"+i[a]]||(e.touches?e.touches[0]["page"+i[a]]:0));return t},wheelDelta:function(e,t){return t=["X","Y"][null!=t?t:1],e["delta"+t]||e["wheelDelta"+t]||e.wheelDelta||e.detail},requestFullScreen:function(e){return this.testFeat("requestFullScreen",e,[e.ALLOW_KEYBOARD_INPUT]),e},cancelFullScreen:function(){this.testFeat("cancelFullScreen",t)},testFeat:function(e,t,a){for(var i=t[e],s=e.replace(/^./,function(e){return e[0].toUpperCase()}),n=["webkit","moz","ms"],r=n.length;!i&&r--;i=t[n[r]+s]);i&&(t[e]=i,i.apply(t,a||[]))}},s.Easer=function(e,t,a,i){var s,n=1e3*a,r=t-e
this.start=function(e){return this.inicio=e||+new Date,s=!1,this},this.gerar=function(t){var o=r
if(a&&(t=((t||+new Date)-this.inicio)/n),!this.pass&&t>1)t=1
else switch(i){case"linear":break
case"ease-in":t=Math.pow(t,2)
break
case"ease-out":t=Math.sqrt(t)
break
default:t=Math.sin(Math.PI/2*t)}return 1==t&&(s=!0),t*o+e},this.isComplete=function(){return s}},s.Ir=function(e){this.el=e,this.left=this.top=0,this.setPos=this.el?function(e){this.el.scrollLeft=e[0],this.el.scrollTop=e[1]}:function(e){scroll(e[0],e[1])},this.to=function(e,a,i){this.ativo&&this.stop(),this.ativo=!0
for(var n=s.Cross[this.el?"scroll":"pageOffset"](this.el),r=s.isElemento(e)?s.Cross.offset(e,this.el):e,o=[],l=[],c=2,h=+new Date,u=s.Cross[this.el?"client":"inner"](this.el),f=this.el||t.documentElement,p=[f.scrollWidth,f.scrollHeight],d=["left","top"];c--;)l[c]=p[c]>u[c],o[c]=new s.Easer(n[c],r[c]-=this[d[c]],a,this.tipo).start(h)
s.Core.animator.addTarefa(function(){for(var e=[],t=2,a=+new Date,s=2;s--;)e[s]=l[s]?o[s].gerar(a):n[s],(!e[s]||o[s].isComplete())&&t--
return this.setPos(e),(t=!t)&&(this.ativo=!1,i&&i()),t},this)},this.stop=function(){this.ativo=!1,s.Core.animator.delTarefaByObj(this)}},s.Anima=function(e,t,a){this.ativo=!1,this.elemento=e,this.tipo=a
for(var i=[],n="ja"+ +new Date,r=-1,t=t.split(";"),o=t.length;++r<o;)if(t[r]){var l=!(s.oldIE()&&"opacity"==t[r])
i.push({p:l?t[r]:"filter",modelo:l?null:"alpha(opacity="+n+")"}),l||""!=s.Cross.getStyle(this.elemento,"filter")||s.css(this.elemento,"filter:alpha(opacity=100)")}this.addModelo=function(e,t,a){for(var s=i.length;s--;){var r=i[s]
if(r.p==e){r.modelo=t.replace(RegExp(a||"\\(ja\\)","g"),n)
break}}return this},this.go=function(e,t,a){this.ativo&&this.stop()
for(var r=[],o=[],l=RegExp(n,"g"),c=t.length;c--;){var h=t[c]
if(null!=h){var u=i[c],f=s.Cross.getStyle(this.elemento,u.p),p=h
if("auto"==f){var d=s.Cross.cssSize(this.elemento)
switch(u.p){case"width":d=d[0]
break
case"height":d=d[1]
break
default:d=0}f=d+"px"}else/%$/.test(f)&&(f="0px")
if(null==u.modelo){u.modelo=n
for(var m=["mm","pt","cm","%","em","px"],v=m.length;v--;)if(-1!=f.search(m[v])){u.modelo+=m[v]
break}}f=parseFloat(f.match(RegExp(s.escapeRegExp(u.modelo).replace(l,"([-+]?[0-9]*.?[0-9]+)"),""))[1]),"filter"==u.p?p*=100:"auto"==p&&(o.push(u.p),p=s.getAuto(this.elemento,u.p)),r.push({p:s.cssPropToJs(u.p),m:u.modelo,eas:new s.Easer(f,p,e,this.tipo).start()})}}switch(a){case"none":a=function(){s.css(this.elemento,"display:none")}
break
case"del":a=function(){s.pega(this.elemento).del()}}this.ativo=!0
var g=r.length
return s.Core.animator.addTarefa(function(){for(var e=g,t=e,i=+new Date;t--;){var n=r[t]
this.elemento.style[n.p]=n.m.replace(l,n.eas.gerar(i).toFixed(3)),n.eas.isComplete()&&e--}return(e=!e)&&(this.ativo=!1,o.length&&s.css(this.elemento,o.join(":auto;")+":auto"),a&&a.call(this)),e},this),this},this.stop=function(){return this.ativo=!1,s.Core.animator.delTarefaByObj(this),this}},s.Ajax=function(e,t,a){this.url=e,this.depois=t,this.metodo=a||"POST",this.data={},this.go=function(){return this.data.jesm_ajax=1,this.ajax=s.Core.ajax.novo(this),this},this.text=function(){return this.ajax.responseText}},s.Form=function(e,t){if(this.el=e,this.elResposta=s.pega(e).pega(".jesm_form_resposta",0),this.cfg={},t)for(var a in t)this.cfg[a]=t[a]
var i,n=new s.Ir(this.cfg.irContexto)
n.topo=15,this.nots={sucess:"E-mail enviado com sucesso!",enviando:"Enviando...",required:"Por favor, preencha este campo",email:"Por favor, ofereça um endereço de email",number:"Por favor, forneça um número"},this.loadCampos=function(){function e(e,t){return e.getAttribute(t)}this.campos={}
for(var t=this.el.elements,a=t.length,i="A"+Math.random();a--;){var n=t[a],r=n.name
if(r)if(this.campos[r])this.campos[r].els.push(n)
else{for(var o={els:[n],nome:r,tipo:e(n,"type")||"",required:e(n,"required")!=e(n,i)},l=n;(l=l.parentNode)&&l!=this.el;)if(s.pega(l).temClasse("jesm_form_field")){o.p=l
var c=l.pega(".jesm_form_error")
o.elMsg=c.length?c[0]:s.el("span","class=jesm_form_error",l)
break}this.campos[r]=o}}},this.montar=function(e){if(!i){var t=this
i=!0,this.depois=function(){var e,a=this.text()
try{e=JSON.parse(a)}catch(i){console.error(a)}e&&(e.campo&&t.alertar("Por favor, corrija os dados e tente novamente",null),t.alertar(e.sucess?"sucess":e.msg,e.campo,1))},s.addEvento(this.el,"submit",function(e){e.preventDefault(),this.validar()&&this.enviar(this.depois).alertar("enviando")},this)}return e&&(this.depois=e),this},this.validar=function(){var e=!0
for(var t in this.campos){var a=this.campos[t],i=a.els[0].value,s=""
a.required&&!i.replace(" ","")?s="required":"email"!=a.tipo||/\b[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}\b/i.test(i)?"number"!=a.tipo||/^\-?[\d,\.]+$/i.test(i)||(s="number"):s="email",s?(this.alertar(s,t,e),e=!1):a.p&&a.p.removerClasse("alerta")}return e},this.enviar=function(e){var t=new s.Ajax(this.el.action,e,this.el.method),a=["radio","checkbox"]
for(var i in this.campos){for(var n=this.campos[i],r=[],o=0,l=n.els.length;l>o;o++){var c=n.els[o]
s.Cross.indexOf(a,n.tipo)>-1&&!c.checked||r.push(c.value)}t.data[i]=r}return t.go(),this},this.alertar=function(e,t,a){var i=this.nots[e]||e
if(t)t=this.campos[t],t.p.addClasse("alerta"),a&&n.to(t.p,.5)
else{for(var r=["enviando","sucess","alerta"],o=r.length;o--;this.elResposta.removerClasse(r[o]));this.elResposta.addClasse(-1==s.Cross.indexOf(r,e)?"alerta":e)}(t?t.elMsg:this.elResposta).innerHTML=i},this.loadCampos()},s}(window,document)